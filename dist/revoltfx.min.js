var revolt=function(t,e){"use strict";function i(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var n=i(e);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,a,r,s,o=[],c=!0,h=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=r.call(i)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(t){h=!0,a=t}finally{try{if(!c&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(h)throw a}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function c(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function l(t,e,i){return e&&h(t.prototype,e),i&&h(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f={exports:{}},p={exports:{}};!function(t){function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(p);var _=p.exports;!function(t){var e=_.default;function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=i=function(){return a},t.exports.__esModule=!0,t.exports.default=t.exports;var n,a={},r=Object.prototype,s=r.hasOwnProperty,o=Object.defineProperty||function(t,e,i){t[e]=i.value},c="function"==typeof Symbol?Symbol:{},h=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function f(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(n){f=function(t,e,i){return t[e]=i}}function p(t,e,i,n){var a=e&&e.prototype instanceof x?e:x,r=Object.create(a.prototype),s=new T(n||[]);return o(r,"_invoke",{value:O(t,i,s)}),r}function _(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}a.wrap=p;var d="suspendedStart",y="suspendedYield",v="executing",m="completed",g={};function x(){}function S(){}function w(){}var E={};f(E,h,(function(){return this}));var M=Object.getPrototypeOf,b=M&&M(M(B([])));b&&b!==r&&s.call(b,h)&&(E=b);var k=w.prototype=x.prototype=Object.create(E);function C(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,i){function n(a,r,o,c){var h=_(t[a],t,r);if("throw"!==h.type){var l=h.arg,u=l.value;return u&&"object"==e(u)&&s.call(u,"__await")?i.resolve(u.__await).then((function(t){n("next",t,o,c)}),(function(t){n("throw",t,o,c)})):i.resolve(u).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,c)}))}c(h.arg)}var a;o(this,"_invoke",{value:function(t,e){function r(){return new i((function(i,a){n(t,e,i,a)}))}return a=a?a.then(r,r):r()}})}function O(t,e,i){var a=d;return function(r,s){if(a===v)throw new Error("Generator is already running");if(a===m){if("throw"===r)throw s;return{value:n,done:!0}}for(i.method=r,i.arg=s;;){var o=i.delegate;if(o){var c=P(o,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===d)throw a=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=v;var h=_(t,e,i);if("normal"===h.type){if(a=i.done?m:y,h.arg===g)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(a=m,i.method="throw",i.arg=h.arg)}}}function P(t,e){var i=e.method,a=t.iterator[i];if(a===n)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=n,P(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var r=_(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var s=r.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function B(t){if(t||""===t){var i=t[h];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(s.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=n,e.done=!0,e};return r.next=r}}throw new TypeError(e(t)+" is not iterable")}return S.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:S,configurable:!0}),S.displayName=f(w,u,"GeneratorFunction"),a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,f(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},a.awrap=function(t){return{__await:t}},C(I.prototype),f(I.prototype,l,(function(){return this})),a.AsyncIterator=I,a.async=function(t,e,i,n,r){void 0===r&&(r=Promise);var s=new I(p(t,e,i,n),r);return a.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},C(k),f(k,u,"Generator"),f(k,h,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),a.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},a.values=B,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,a){return o.type="throw",o.arg=t,e.next=i,a&&(e.method="next",e.arg=n),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=s.call(r,"catchLoc"),h=s.call(r,"finallyLoc");if(c&&h){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),A(i),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var a=n.arg;A(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:B(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),g}},a}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(f);var d=(0,f.exports)(),y=d;try{regeneratorRuntime=d}catch(t){"object"===("undefined"==typeof globalThis?"undefined":o(globalThis))?globalThis.regeneratorRuntime=d:Function("r","regeneratorRuntime = r")(d)}var v,m=u(y);function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function x(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}function S(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}t.ComponentType=void 0,(v=t.ComponentType||(t.ComponentType={}))[v.Sprite=0]="Sprite",v[v.MovieClip=1]="MovieClip";var E=function(){function t(){s(this,t),this.__length=0}return l(t,[{key:"length",get:function(){return this.__length}},{key:"add",value:function(t){return null==this.first?this.first=this.last=t:(t.prev=this.last,this.last.next=t,this.last=t),t.list=this,this.__length++,this}},{key:"remove",value:function(t){if(null!=t.list)return this.first===this.last?this.first=this.last=null:this.__length>0&&(t===this.last?(t.prev.next=null,this.last=t.prev):t===this.first?(t.next.prev=null,this.first=t.next):(t.next.prev=t.prev,t.prev.next=t.next)),t.next=t.prev=t.list=null,this.__length--,this}},{key:"clear",value:function(){if(this.first){for(var t=this.first;t;){var e=t.next;t.next=t.prev=t.list=null,t=e}this.first=this.last=null}}},{key:"toArray",value:function(){var t=[];if(!this.first)return t;for(var e=this.first;e;)t.push(e),e=e.next;return t}}]),t}(),M=function(){function t(e){s(this,t),this.data=e}return l(t,[{key:"update",value:function(t){}},{key:"dispose",value:function(){}}]),t}();function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=w(t);if(e){var a=w(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}var k=function(t){x(i,t);var e=b(i);function i(t){var a;return s(this,i),(a=e.call(this)).componentId=t,a.exhausted=!1,a.completed=!1,a.name="",a.endTime=0,a._x=0,a._y=0,a._rotation=0,a._alpha=0,a._scale=new n.Point,a._time=0,a._active=!1,a.__recycled=!0,a}return l(i,[{key:"update",value:function(t){}},{key:"recycle",value:function(){}},{key:"active",get:function(){return this._active}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t}},{key:"alpha",get:function(){return this._alpha},set:function(t){this._alpha=t}},{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}},{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"__applySettings",value:function(t){}}]),i}(M),C=function(){function t(){s(this,t)}return l(t,null,[{key:"float",value:function(t,e){return Math.random()*(e-t)+t}},{key:"bool",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return Math.random()<t}},{key:"sign",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return Math.random()<t?1:-1}},{key:"bit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return Math.random()<t?1:0}},{key:"integer",value:function(t,e){return Math.floor(Math.random()*(e-t)+t)}}]),t}(),I=function(){function t(){s(this,t),this.__hasCallback=!1,this._list=new E}return l(t,[{key:"add",value:function(t,e,i){this._list.add(new M(new O(t,e,!1,i))),this.__hasCallback=!0}},{key:"addOnce",value:function(t,e){this._list.add(new M(new O(t,e,!0))),this.__hasCallback=!0}},{key:"dispatch",value:function(){for(var t,e=this._list,i=e.first,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];for(;i;){t=i.next;var s=!0,o=i.data;o.callRate&&o.calls%o.callRate!=0&&(s=!1),s&&(o.callback.apply(o.scope,a),o.once&&e.remove(i)),i=t}this.__hasCallback=e.__length>0}},{key:"remove",value:function(t){for(var e,i=this._list,n=i.first;n;){if(e=n.next,n.data.callback===t)return void i.remove(n);n=e}this.__hasCallback=i.__length>0}},{key:"removeAll",value:function(){this._list.clear(),this.__hasCallback=!1}}]),t}(),O=l((function t(e,i,n,a){s(this,t),this.callback=e,this.scope=i,this.once=n,this.callRate=a,this.calls=0}));function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=w(t);if(e){var a=w(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}var R,A=function(t){x(i,t);var e=P(i);function i(t){var n;return s(this,i),(n=e.call(this,t)).targetOffset=0,n.autoRecycleOnComplete=!0,n._particles=new E,n._particleCount=0,n._childEmitters=[],n._hasChildEmitters=!1,n._paused=!1,n.__adoptRotation=!1,n.__on={started:new I,completed:new I,exhausted:new I,particleUpdated:new I,particleSpawned:new I,particleBounced:new I,particleDied:new I},n}return l(i,[{key:"init",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.container=t,this.core.__scaleMod=this._scaleMod=i,e&&this.start(),this}},{key:"start",value:function(){if(this._active)return this;var t=Date.now(),e=this.settings,i=this.__fx;i.emitterCount++,this.infinite=e.infinite,this._time=Number.MAX_VALUE,e.duration>0?this.endTime=t+1e3*e.duration:this.endTime=e.duration,this._nextSpawnTime=0,this._particleCount=0,this._active=!0,this.exhausted=this.completed=!1,i.__addActiveEffect(this);var n=e.childs.length;if(this._hasChildEmitters=n>0,this._hasChildEmitters)for(;--n>-1;){var a=e.childs[n],r=i.getParticleEmitterById(a.id),s=i.__containers[r.settings.containerId]||this.container;r.init(s,!0,(a.scale||1)*(this._scaleMod||1)),a.adoptRotation&&(r.rotation=this._rotation,r.__adoptRotation=!0),r.__parent=this,this._childEmitters.push(r)}return this.rotation=this._rotation,this.__on.started.__hasCallback&&this.__on.started.dispatch(this),this}},{key:"stop",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(this.exhausted=!0,this._hasChildEmitters&&this.stopChildEmitters(!0)):(this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.autoRecycleOnComplete?this.recycle():(this.recycleParticles(),this.completed=!0,this._active=!1,this.__fx.__removeActiveEffect(this)))}},{key:"update",value:function(t){if(!this._active)return this;var e=Date.now(),i=this.settings;this.exhausted?0==this._particleCount&&(this._active=!1,this.completed=!0,this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.__fx.__removeActiveEffect(this),this.autoRecycleOnComplete&&this.recycle()):(0!==this.settings.autoRotation&&(this.rotation+=i.autoRotation*(t/.016666)),this.target&&(this.rotation=this.target.rotation,0==this.targetOffset?(this.x=this.target.x,this.y=this.target.y):(this.x=this.target.x+Math.cos(this._rotation)*this.targetOffset,this.y=this.target.y+Math.sin(this._rotation)*this.targetOffset)),0!=this.endTime||this.infinite?this.infinite||e<this.endTime?(this._time+=t,this._time>=this._nextSpawnTime&&(this._time=0,this.spawn(),this._nextSpawnTime=this._time+C.float(i.spawnFrequencyMin,i.spawnFrequencyMax))):(this.exhausted=!0,this.__on.exhausted.__hasCallback&&this.__on.exhausted.dispatch(this)):(this.spawn(),this.exhausted=!0));for(var n,a=this._particles.first;a;)n=a.next,a.update(t),a=n;return this}},{key:"spawn",value:function(){if(this._paused)return this;var t=this.settings,e=this.__fx,i=C.integer(t.spawnCountMin,t.spawnCountMax)*e.particleFac;for(this.core.prepare(i);--i>-1;){if(this._particleCount>=t.maxParticles||e.particleCount>=e.maxParticles)return this;var n=t.particleSettings,a=e.__getParticle(),r=void 0;switch(n.componentType){case 0:a.componentId=n.componentId,r=e.__getSprite(a.componentId);break;case 1:a.componentId=n.componentId,r=e.__getMovieClip(a.componentId),n.componentParams&&(r.loop=!(null==n.componentParams.loop||!n.componentParams.loop),r.animationSpeed=C.float(n.componentParams.animationSpeedMin||1,n.componentParams.animationSpeedMax||1)),r.gotoAndPlay(0)}r.anchor.set(n.componentParams.anchorX,n.componentParams.anchorY),a.component=r,this.core.emit(a),a.init(this,n,this._scaleMod),this._particles.add(a),this._particleCount++,e.particleCount++}return this.core.step(),this._nextSpawnTime=C.float(t.spawnFrequencyMin,t.spawnFrequencyMax),this}},{key:"recycle",value:function(){if(!this.__recycled){this.__parent&&(this.__parent.__removeChildEmitter(this),this.__parent=void 0),this.recycleParticles(),this.settings=void 0,this._active=!1,this._paused=!1,this.completed=!0,this._x=this._y=this._rotation=0,this._hasChildEmitters&&(this.stopChildEmitters(!0),this._childEmitters.length=0,this._hasChildEmitters=!1),this.__fx.emitterCount--,this.__fx.__recycleEmitter(this),this.__recycled=!0,this.__adoptRotation=!1,this.core=null,this.target=null,this.name=null;var t=this.__on;t.completed.__hasCallback&&t.completed.removeAll(),t.started.__hasCallback&&t.started.removeAll(),t.exhausted.__hasCallback&&t.exhausted.removeAll(),t.particleBounced.__hasCallback&&t.particleBounced.removeAll(),t.particleDied.__hasCallback&&t.particleDied.removeAll(),t.particleSpawned.__hasCallback&&t.particleSpawned.removeAll(),t.particleUpdated.__hasCallback&&t.particleUpdated.removeAll()}}},{key:"dispose",value:function(){for(var t,e=this._particles,i=e.first;i;)t=i.next,i.recycle(),i=t;e.clear(),this.__recycled=!0,this._hasChildEmitters&&this.stopChildEmitters(!1),this.__fx.particleCount-=this._particleCount,this._particles=null,this.componentId=null,this.settings=null,this._active=!1,this.completed=!0,this._childEmitters=null,this.core&&this.core.dispose(),this.core=null,this.target=null,this.name=null;var n=this.__on;n.completed.removeAll(),n.started.removeAll(),n.exhausted.removeAll(),n.particleBounced.removeAll(),n.particleDied.removeAll(),n.particleSpawned.removeAll(),n.particleUpdated.removeAll(),this.__parent=null,this.__fx.__removeActiveEffect(this),this.__fx=null}},{key:"x",get:function(){return this._x},set:function(t){if(this._x=this.core.x=t,this._xPosIntialized||(this.core.__x=t,this._xPosIntialized=!0),this._hasChildEmitters)for(var e=this._childEmitters,i=e.length;--i>-1;)e[i].x=t}},{key:"y",get:function(){return this._y},set:function(t){if(this._y=this.core.y=t,this._yPosIntialized||(this.core.__y=t,this._yPosIntialized=!0),this._hasChildEmitters)for(var e=this._childEmitters,i=e.length;--i>-1;)e[i].y=t}},{key:"rotation",get:function(){return this._rotation},set:function(t){if(this._rotation=this.core.rotation=t,this._hasChildEmitters)for(var e=this._childEmitters,i=e.length;--i>-1;){var n=e[i];n.__adoptRotation&&(n.rotation=n.settings.rotation+t)}}},{key:"paused",get:function(){return this._paused},set:function(t){if(this._paused=t,this._hasChildEmitters)for(var e=this._childEmitters,i=e.length;--i>-1;)e[i].paused=t}},{key:"on",get:function(){return this.__on}},{key:"recycleParticles",value:function(){for(var t,e=this._particles.first;e;)t=e.next,e.recycle(),e=t;this._particles.clear(),this.__fx.particleCount-=this._particleCount}},{key:"stopChildEmitters",value:function(t){for(var e=this._childEmitters,i=e.length;--i>-1;)e[i].stop(t)}},{key:"__removeParticle",value:function(t){t.useSpawns&&this._spawnOnComplete&&this.__subSpawn(t,this.settings.particleSettings.spawn.onComplete),this._particles.remove(t),this._particleCount--,this.__fx.particleCount--,t.recycle()}},{key:"__removeChildEmitter",value:function(t){var e=this._childEmitters.indexOf(t);e>-1&&(this._childEmitters.splice(e,1),0==this._childEmitters.length&&(this._hasChildEmitters=!1))}},{key:"__subSpawn",value:function(t,e){var i=this.__fx;if(e)for(var n=e.length;--n>-1;){var a=e[n],r=void 0,s=void 0;switch(a.type){case 0:r=i.getParticleEmitterById(a.id),s=i.__containers[r.settings.containerId]||this.container,r.init(s,!0,(a.scale||1)*this._scaleMod),a.adoptRotation?(r.rotation=t.component.rotation+r.settings.rotation,r.__adoptRotation=!0):r.rotation=r.settings.rotation;break;case 1:r=i.getEffectSequenceById(a.id),s=i.__containers[r.settings.containerId]||this.container,r.init(s,0,!0,(a.scale||1)*this._scaleMod),a.adoptRotation&&(r.rotation=t.component.rotation)}r.x=t.component.x,r.y=t.component.y}}},{key:"__applySettings",value:function(t){var e=this.__fx;this.__recycled=this._xPosIntialized=this._yPosIntialized=!1,this.settings=t,this.core=e.__getEmitterCore(t.core.type,this),this.core.init(this),this.rotation=t.rotation,this.name=t.name,this._spawnOnComplete=t.particleSettings.spawn.onComplete.length>0,this._childEmitters.length=0}},{key:"__setCore",value:function(t){this.core=this.__fx.__getEmitterCore(t,this),this.core.init(this),this.core.__scaleMod=this._scaleMod,this._xPosIntialized=this._yPosIntialized=!1}}]),i}(k);function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=w(t);if(e){var a=w(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}t.EffectSequenceComponentType=void 0,(R=t.EffectSequenceComponentType||(t.EffectSequenceComponentType={}))[R.Sprite=0]="Sprite",R[R.MovieClip=1]="MovieClip",R[R.Emitter=2]="Emitter",R[R.Trigger=3]="Trigger";var B=function(e){x(n,e);var i=T(n);function n(t){var e;return s(this,n),(e=i.call(this,t))._list=[],e._elements=new E,e.__on={started:new I,completed:new I,exhausted:new I,effectSpawned:new I,triggerActivated:new I},e}return l(n,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return this.container=t,this._scaleMod=n,this._delay=1e3*e,i&&this.start(),this}},{key:"start",value:function(){if(!this._active)return this._startTime=Date.now()+(this.settings.delay?1e3*this.settings.delay:0)+this._delay,this._index=0,0==this._list.length?(this._active=!1,this.__on.exhausted.__hasCallback&&this.__on.exhausted.dispatch(this),this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.recycle(),this):(this.exhausted=this.completed=!1,this.setNextEffect(),this.__fx.effectSequenceCount++,this.__fx.__addActiveEffect(this),this.__on.started.__hasCallback&&this.__on.started.dispatch(this),this)}},{key:"update",value:function(e){var i=Date.now();if(!(i<this._startTime)){if(this._time+=e,!this.exhausted&&i>=this._effectStartTime){var n,a,r,s=this.__fx,o=this._nextEffectSettings;switch(o.componentType){case t.EffectSequenceComponentType.Sprite:n=s.__getSprite(o.componentId),(r=s.__containers[o.containerId]||this.container).addChild(n),n.blendMode=s.useBlendModes?o.blendMode:0,n.tint=o.tint,n.scale.set(C.float(o.scaleMin,o.scaleMax)*C.float(this.settings.scaleMin,this.settings.scaleMax)*this._scaleMod),n.alpha=C.float(o.alphaMin,o.alphaMax),n.anchor.set(o.componentParams.anchorX,o.componentParams.anchorY),a=new M({component:n,endTime:i+1e3*o.duration}),this._elements.add(a),n.x=this._x,n.y=this._y,n.rotation=this._rotation+C.float(o.rotationMin,o.rotationMax),this.__on.effectSpawned.__hasCallback&&this.__on.effectSpawned.dispatch(t.EffectSequenceComponentType.Sprite,n);break;case t.EffectSequenceComponentType.MovieClip:n=s.__getMovieClip(o.componentId),o.componentParams.loop?(n.animationSpeed=C.float(o.componentParams.animationSpeedMin||1,o.componentParams.animationSpeedMax||1),n.loop=o.componentParams.loop||!1):o.duration,n.anchor.set(o.componentParams.anchorX,o.componentParams.anchorY),n.gotoAndPlay(0),(r=s.__containers[o.containerId]||this.container).addChild(n),n.blendMode=s.useBlendModes?o.blendMode:0,n.tint=o.tint,n.scale.set(C.float(o.scaleMin,o.scaleMax)*C.float(this.settings.scaleMin,this.settings.scaleMax)*this._scaleMod),n.alpha=C.float(o.alphaMin,o.alphaMax),a=new M({component:n,endTime:i+1e3*o.duration}),this._elements.add(a),n.x=this._x,n.y=this._y,n.rotation=this._rotation+C.float(o.rotationMin,o.rotationMax),this.__on.effectSpawned.__hasCallback&&this.__on.effectSpawned.dispatch(t.EffectSequenceComponentType.MovieClip,n);break;case t.EffectSequenceComponentType.Emitter:n=s.getParticleEmitterById(o.componentId),r=s.__containers[o.containerId]||this.container,n.init(r,!0,C.float(o.scaleMin,o.scaleMax)*C.float(this.settings.scaleMin,this.settings.scaleMax)*this._scaleMod),a=new M({component:n,endTime:n.endTime}),this._elements.add(a),n.x=this._x,n.y=this._y,n.rotation=this._rotation+n.settings.rotation,this.__on.effectSpawned.__hasCallback&&this.__on.effectSpawned.dispatch(t.EffectSequenceComponentType.Emitter,n);break;case t.EffectSequenceComponentType.Trigger:this.__on.triggerActivated.__hasCallback&&this.__on.triggerActivated.dispatch(o.triggerValue)}this._index==this._list.length?(this.exhausted=!0,this.__on.exhausted.__hasCallback&&this.__on.exhausted.dispatch(this)):this.setNextEffect()}for(var c=this._elements,h=c.first;h;){if(h.update(e),i>h.data.endTime){var l=h.data.component;l instanceof A?l.completed&&c.remove(h):(c.remove(h),l.recycle())}h=h.next}this.exhausted&&0==c.length&&(this._active=!1,this.completed=!0,this.__on.completed.__hasCallback&&this.__on.completed.dispatch(this),this.recycle())}}},{key:"stop",value:function(){this.recycle()}},{key:"recycle",value:function(){if(!this.__recycled){for(var t,e=this._elements,i=e.first;i;)t=i.next,i.data.component.recycle(),i=t;var n=this.__on;n.completed.__hasCallback&&n.completed.removeAll(),n.started.__hasCallback&&n.started.removeAll(),n.exhausted.__hasCallback&&n.exhausted.removeAll(),n.effectSpawned.__hasCallback&&n.effectSpawned.removeAll(),n.triggerActivated.__hasCallback&&n.triggerActivated.removeAll(),e.clear(),this.__recycled=!0,this._x=this._y=this._rotation=0,this.__fx.effectSequenceCount--,this.__fx.__recycleEffectSequence(this)}}},{key:"dispose",value:function(){this._elements.clear(),this.__fx=void 0;var t=this.__on;t.completed=t.started=t.exhausted=t.effectSpawned=t.triggerActivated=void 0}},{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t;for(var e,i=this._elements.first;i;)e=i.next,i.data.rotation=t,i=e}},{key:"x",get:function(){return this._x},set:function(t){this._x=t;for(var e,i=this._elements.first;i;)e=i.next,i.data.x=t,i=e}},{key:"y",get:function(){return this._y},set:function(t){this._y=t;for(var e,i=this._elements.first;i;)e=i.next,i.data.y=t,i=e}},{key:"on",get:function(){return this.__on}},{key:"setNextEffect",value:function(){if(!this.exhausted){var t=this._nextEffectSettings=this._list[this._index++];this._effectStartTime=this._startTime+1e3*t.delay}}},{key:"__applySettings",value:function(t){this.settings=t,this.name=t.name,this._list=t.effects.slice(),this.__recycled=!1}}]),n}(k);function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=w(t);if(e){var a=w(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}var D=function(t){x(i,t);var e=Y(i);function i(t,a,r,o){var c;s(this,i);for(var h=[],l=a.length,u=0;u<l;u++)h.push(n.Texture.from(a[u]));return(c=e.call(this,h)).componentId=t,c.anchor.set(.5,.5),c.loop=!1,c.__sequenceEndTime=0,c}return l(i,[{key:"recycle",value:function(){this.alpha=1,this.tint=16777215,this.rotation=0,this.scale.set(1),this.parent&&this.parent.removeChild(this),this.gotoAndStop(0),this.__fx.__recycleMovieClip(this.componentId,this)}},{key:"dispose",value:function(){this.parent&&this.parent.removeChild(this),this.gotoAndStop(0),this.destroy()}}]),i}(n.AnimatedSprite),q=function(){function t(){s(this,t)}return l(t,[{key:"setRgb",value:function(t,e){this.startRgb=this.rgb=t,this.r=this.sR=t>>16&255,this.g=this.sG=t>>8&255,this.b=this.sB=255&t,this.targetRgb=e,this.dR=(e>>16&255)-this.r,this.dG=(e>>8&255)-this.g,this.dB=(255&e)-this.b}},{key:"tween",value:function(t,e,i){return t?(this.r=t(e,this.sR,this.dR,i),this.g=t(e,this.sG,this.dG,i),this.b=t(e,this.sB,this.dB,i)):(e/=i,this.r=this.dR*e+this.sR,this.g=this.dG*e+this.sG,this.b=this.dB*e+this.sB),this.rgb=this.r<<16|this.g<<8|this.b,this.rgb}}]),t}(),X=function(){function t(){s(this,t)}return l(t,null,[{key:"linear",value:function(t,e,i,n){return i*t/n+e}},{key:"easeInQuad",value:function(t,e,i,n){return i*(t/=n)*t+e}},{key:"easeOutQuad",value:function(t,e,i,n){return-i*(t/=n)*(t-2)+e}},{key:"easeInOutQuad",value:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}},{key:"easeInCubic",value:function(t,e,i,n){return i*(t/=n)*t*t+e}},{key:"easeOutCubic",value:function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e}},{key:"easeInOutCubic",value:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}},{key:"easeInQuart",value:function(t,e,i,n){return i*(t/=n)*t*t*t+e}},{key:"easeOutQuart",value:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e}},{key:"easeInOutQuart",value:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e}},{key:"easeInQuint",value:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e}},{key:"easeOutQuint",value:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e}},{key:"easeInOutQuint",value:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e}},{key:"easeInSine",value:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}},{key:"easeOutSine",value:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e}},{key:"easeInOutSine",value:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e}},{key:"easeInExpo",value:function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e}},{key:"easeOutExpo",value:function(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e}},{key:"easeInOutExpo",value:function(t,e,i,n){return(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e}},{key:"easeInCirc",value:function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e}},{key:"easeOutCirc",value:function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e}},{key:"easeInOutCirc",value:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e}},{key:"easeInElastic",value:function(t,e,i,n){var a,r,s;return s=1.70158,0===t||(t/=n),(r=0)||(r=.3*n),(a=i)<Math.abs(i)?(a=i,s=r/4):s=r/(2*Math.PI)*Math.asin(i/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/r)+e}},{key:"easeOutElastic",value:function(t,e,i,n){var a,r,s;return s=1.70158,0===t||(t/=n),(r=0)||(r=.3*n),(a=i)<Math.abs(i)?(a=i,s=r/4):s=r/(2*Math.PI)*Math.asin(i/a),a*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/r)+i+e}},{key:"easeInOutElastic",value:function(t,e,i,n){var a,r,s;return s=1.70158,0===t||(t/=n/2),(r=0)||(r=n*(.3*1.5)),(a=i)<Math.abs(i)?(a=i,s=r/4):s=r/(2*Math.PI)*Math.asin(i/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/r)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/r)*.5+i+e}},{key:"easeInBack",value:function(t,e,i,n,a){return void 0===a&&(a=1.70158),i*(t/=n)*t*((a+1)*t-a)+e}},{key:"easeOutBack",value:function(t,e,i,n,a){return void 0===a&&(a=1.70158),i*((t=t/n-1)*t*((a+1)*t+a)+1)+e}},{key:"easeInOutBack",value:function(t,e,i,n,a){return void 0===a&&(a=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(a*=1.525))*t-a))+e:i/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+e}},{key:"easeInBounce",value:function(e,i,n,a){return n-t.easeOutBounce(a-e,0,n,a)+i}},{key:"easeOutBounce",value:function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}},{key:"easeInOutBounce",value:function(e,i,n,a){return e<a/2?.5*t.easeInBounce(2*e,0,n,a)+i:.5*t.easeOutBounce(2*e-a,0,n,a)+.5*n+i}}]),t}();function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=w(t);if(e){var a=w(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}var F=function(t){x(i,t);var e=j(i);function i(){var t;return s(this,i),(t=e.call(this)).dx=0,t.dy=0,t._childEmitters=[],t._hasChildEmitters=!1,t._spawnOnHalfway=!1,t.__recycled=!0,t.__on={died:new I,bounced:new I,updated:new I},t._color=new q,t}return l(i,[{key:"init",value:function(t,e,i){var n=this.component,a=this.__fx;this.emitter=t,this.settings=e;var r=this.duration=C.float(e.durationMin,e.durationMax)*i;if(this._dt=1/this.duration,this.time=0,this.__recycled=!1,e.addOnTop?t.container.addChild(n):t.container.addChildAt(n,0),n.blendMode=a.useBlendModes?e.blendMode:0,this.startX=n.x,this.startY=n.y,this.useGravity=t.settings.useGravity,this.useScale=e.useScale,this.useRotation=e.useRotation,this.useAlpha=e.useAlpha,this.useTint=e.useTint,this.useSpawns=e.useSpawns,this.useChilds=e.useChilds,this.useMotion=e.useMotion,this.useGravity)if(this.gravity=t.settings.gravity,this.useFloor=t.settings.useFloor,this.floorY=t.settings.floorY,this.bounceFac=C.float(e.bounceFacMin,e.bounceFacMax)*i,this.friction=1-C.float(e.frictionMin,e.frictionMax)*i,this._spawnOnBounce=e.spawn.onBounce.length>0,this.useAlign=e.align,e.useMotion){var s=C.float(e.moveSpeedMin,e.moveSpeedMax);this.moveSpeedX=s*this.dx*i,this.moveSpeedY=s*this.dy*i}else this.moveSpeedX=this.moveSpeedY=0;else if(e.useMotion){var o=this.distance=.8*C.integer(e.distanceMin,e.distanceMax)*i;this.deltaX=.8*(n.x+o*this.dx-this.startX),this.deltaY=.8*(n.y+o*this.dy-this.startY),this.distanceEase=X[e.distanceEase],this.useAlign=!1}else n.x=this.startX,n.y=this.startY;if(e.useRotation&&e.randomStartRotation&&!this.useAlign&&(n.rotation=C.float(0,6.28319)),e.useAlpha&&(this.alphaStart=n.alpha=C.float(e.alphaStartMin,e.alphaStartMax),this.alphaDelta=C.float(e.alphaEndMin,e.alphaEndMax)-this.alphaStart,this.alphaEase=X[e.alphaEase]||null,this.useFadeIn=e.fadeIn,e.fadeIn&&(this.alphaDuration=r*(1-e.fadeInDurationFac),this.fadeInDuration=r*e.fadeInDurationFac,this.fadeInEase=X[e.fadeInEase||"easeInSine"])),e.useScale&&(this.uniformScale=e.uniformScale,this.useScaleIn=e.scaleIn,e.useScale?(this.uniformScale=e.uniformScale,this.scaleEase=X[e.scaleEase],e.uniformScale?(this.scaleStart=n.scale.x=n.scale.y=C.float(e.scaleStartMin,e.scaleStartMax)*i,this.scaleDelta=(C.float(e.scaleEndMin,e.scaleEndMax)-this.scaleStart)*i):(this.scaleXStart=n.scale.x=C.float(e.scaleXStartMin,e.scaleXStartMax)*i,this.scaleXDelta=(C.float(e.scaleXEndMin,e.scaleXEndMax)-this.scaleXStart)*i,this.scaleXEase=X[e.scaleXEase],this.scaleYStart=n.scale.y=C.float(e.scaleYStartMin,e.scaleYStartMax)*i,this.scaleYDelta=(C.float(e.scaleYEndMin,e.scaleYEndMax)-this.scaleYStart)*i,this.scaleYEase=X[e.scaleYEase]),e.scaleIn&&(this.scaleDuration=r*(1-e.scaleInDurationFac),this.scaleInDuration=r*e.scaleInDurationFac,this.scaleInEase=X[e.scaleInEase||"easeInSine"])):e.uniformScale?(n.scale.x=e.scaleStartMin,n.scale.y=e.scaleStartMin):(n.scale.x=e.scaleXStartMin,n.scale.y=e.scaleYStartMin)),e.useRotation&&(this.rotationSpeed=C.float(e.rotationSpeedMin,e.rotationSpeedMax)*i,e.randomRotationDirection&&(this.rotationSpeed*=C.sign())),e.useTint&&(this.tintEase=X[e.tintEase],this._color.setRgb(e.tintStart,e.tintEnd)),e.useChilds){this._childEmitters.length=0;var c=e.childs.length;if(this._hasChildEmitters=c>0,this._childEmitters)for(;--c>-1;){var h=e.childs[c],l=a.getParticleEmitterById(h.id);l.init(t.container,!0,(h.scale||1)*(i||1)),h.adoptRotation&&(l.rotation=n.rotation,l.__adoptRotation=!0),l.__parent=this,this._childEmitters.push(l)}}return e.useSpawns&&(e.spawn.onStart.length>0&&t.__subSpawn(this,e.spawn.onStart),this._spawnOnHalfway=e.spawn.onHalfway.length>0),t.__on.particleSpawned.__hasCallback&&t.__on.particleSpawned.dispatch(this),this}},{key:"update",value:function(t){var e=this.time+=t,i=this.duration;if(e>=i)this.emitter.__removeParticle(this);else{var n=this.component,a=e*t;if(this.useGravity){var r=t/.0166666;if(n.x+=this.moveSpeedX*r,n.y+=this.moveSpeedY*r,this.moveSpeedY+=this.gravity*r,this.useAlign&&(n.rotation=Math.atan2(this.moveSpeedY,this.moveSpeedX)),this.useFloor&&this.floorY>0&&n.y>this.floorY){n.y=this.floorY,this.moveSpeedY*=-this.bounceFac,this.moveSpeedX*=this.friction,this.useSpawns&&this._spawnOnBounce&&this.emitter.__subSpawn(this,this.settings.spawn.onBounce);var s=this.emitter;return s.__on.particleBounced.__hasCallback&&s.__on.particleBounced.dispatch(this),this.__on.bounced.__hasCallback&&this.__on.bounced.dispatch(this),void(this.settings.stopOnBounce&&s.__removeParticle(this))}}else this.useMotion&&(this.distanceEase?(n.x=this.distanceEase(e,this.startX,this.deltaX,i),n.y=this.distanceEase(e,this.startY,this.deltaY,i)):(n.x=this.deltaX*a+this.startX,n.y=this.deltaY*a+this.startY));if(this.useAlpha&&(this.useFadeIn?e<this.fadeInDuration?n.alpha=this.fadeInEase(e,0,this.alphaStart,this.fadeInDuration):n.alpha=this.alphaEase(e-this.fadeInDuration,this.alphaStart,this.alphaDelta,this.alphaDuration):this.alphaEase?n.alpha=this.alphaEase(e,this.alphaStart,this.alphaDelta,i):n.alpha=this.alphaDelta*a+this.alphaStart),this.useRotation&&(n.rotation+=this.rotationSpeed),this.useScale&&(this.uniformScale?this.useScaleIn?e<this.scaleInDuration?n.scale.x=n.scale.y=this.scaleInEase(e,0,this.scaleStart,this.scaleInDuration):n.scale.x=n.scale.y=this.scaleEase(e-this.scaleInDuration,this.scaleStart,this.scaleDelta,this.scaleDuration):this.scaleEase?(n.scale.x=this.scaleEase(e,this.scaleStart,this.scaleDelta,i),n.scale.y=this.scaleEase(e,this.scaleStart,this.scaleDelta,i)):n.scale.x=n.scale.y=this.scaleDelta*a+this.scaleStart:this.useScaleIn?e<this.scaleInDuration?(n.scale.x=this.scaleInEase(e,0,this.scaleXStart,this.scaleInDuration),n.scale.y=this.scaleInEase(e,0,this.scaleYStart,this.scaleInDuration)):(n.scale.x=this.scaleEase(e-this.scaleInDuration,this.scaleXStart,this.scaleXDelta,this.scaleDuration),n.scale.y=this.scaleEase(e-this.scaleInDuration,this.scaleYStart,this.scaleYDelta,this.scaleDuration)):(this.scaleXEase?n.scale.x=this.scaleXEase(e,this.scaleXStart,this.scaleXDelta,i):n.scale.x=this.scaleXDelta*a+this.scaleXStart,this.scaleYEase?n.scale.y=this.scaleYEase(e,this.scaleYStart,this.scaleYDelta,i):n.scale.y=this.scaleYDelta*a+this.scaleYStart)),this.useTint&&(n.tint=this._color.tween(this.tintEase,e,i)),this._spawnOnHalfway&&e>=.5&&(this._spawnOnHalfway=!1,this.emitter.__subSpawn(this,this.settings.spawn.onHalfway)),this.useChilds&&this._hasChildEmitters)for(var o=this._childEmitters,c=o.length;--c>-1;){var h=o[c];h.__recycled||(h.x=n.position.x,h.y=n.position.y,h.__adoptRotation&&(h.rotation=n.rotation))}this.emitter.__on.particleUpdated.__hasCallback&&this.emitter.__on.particleUpdated.dispatch(this),this.__on.updated.__hasCallback&&this.__on.updated.dispatch(this)}}},{key:"stop",value:function(){this.time=this.duration}},{key:"recycle",value:function(){this.emitter.__on.particleDied.__hasCallback&&this.emitter.__on.particleDied.dispatch(this);var t=this.__on;if(t.died.__hasCallback&&(t.died.dispatch(this),t.died.removeAll()),t.updated.__hasCallback&&t.updated.removeAll(),t.bounced.__hasCallback&&t.bounced.removeAll(),this._hasChildEmitters){for(var e=this._childEmitters,i=e.length;--i>-1;)e[i].stop(!0);this._childEmitters.length=0,this._hasChildEmitters=!1}this.component.recycle(),this.__fx.__recycleParticle(this),this.dx=this.dy=this.deltaX=this.deltaY=0,this.component=null,this.emitter=null,this.settings=null,this.__recycled=!0}},{key:"dispose",value:function(){this.recycle(),this.__fx=null}},{key:"x",get:function(){return this.component.x}},{key:"y",get:function(){return this.component.y}},{key:"on",get:function(){return this.__on}},{key:"__removeChildEmitter",value:function(t){var e=this._childEmitters.indexOf(t);e>-1&&(this._childEmitters.splice(e,1),0==this._childEmitters.length&&(this._hasChildEmitters=!1))}}]),i}(M);function L(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return G(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return G(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var N=function(){function t(){s(this,t)}return l(t,null,[{key:"sanitizeBundle",value:function(e){var i,n=L(e.emitters);try{for(n.s();!(i=n.n()).done;){var a=i.value,r=t._presetStructure.emitter;t.parse(a,r,t._presetStructure.emitterSpawn)}}catch(t){n.e(t)}finally{n.f()}var s,o=L(e.sequences);try{for(o.s();!(s=o.n()).done;){var c=s.value,h=t._presetStructure.sequence;t.parse(c,h,t._presetStructure.sequenceEffect)}}catch(t){o.e(t)}finally{o.f()}}},{key:"parse",value:function(e,i,n){for(var a in i)if(null==e[a])e[a]=i[a];else{var r=e[a];if("object"!==o(r))continue;var s=i[a];if(r.hasOwnProperty("length")){var c,h=L(r);try{for(h.s();!(c=h.n()).done;){var l=c.value;for(var u in n)null==l[u]&&(l[u]=n[u])}}catch(t){h.e(t)}finally{h.f()}}else t.parse(r,s,n)}}}]),t}();function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=w(t);if(e){var a=w(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}N._presetStructure={sequence:{id:0,name:"",type:1,delay:0,scaleMin:1,scaleMax:1,effects:[]},sequenceEffect:{id:0,componentId:null,componentType:0,delay:0,componentParams:{animationSpeedMin:1,animationSpeedMax:1,anchorX:.5,anchorY:.5,loop:!1},scaleMin:1,scaleMax:1,alphaMin:1,alphaMax:1,rotationMin:0,rotationMax:0,blendMode:0,duration:.1,tint:16777215,containerId:"",triggerValue:""},emitter:{id:0,name:"",type:0,core:{type:"circle",params:{radius:100,radial:!0,angle:6.28318530718,uniform:!1,width:100,height:100}},spawnFrequencyMin:.1,spawnFrequencyMax:.1,maxParticles:1e3,spawnCountMin:1,spawnCountMax:1,duration:0,infinite:!0,useGravity:!1,gravity:0,useFloor:!1,floorY:700,rotation:0,autoRotation:0,particleSettings:{componentType:0,componentId:"",componentParams:{animationSpeedMin:1,animationSpeedMax:1,anchorX:.5,anchorY:.5,loop:!1},durationMin:1,durationMax:2,distanceMin:0,distanceMax:0,distanceEase:"linear",moveSpeedMin:0,moveSpeedMax:0,bounceFacMin:0,bounceFacMax:0,frictionMin:0,frictionMax:0,useMotion:!1,useRotation:!1,useAlpha:!1,useScale:!1,useTint:!1,useChilds:!1,useSpawns:!1,stopOnBounce:!1,align:!1,blendMode:1,addOnTop:!0,rotationSpeedMin:0,rotationSpeedMax:0,randomRotationDirection:!1,randomStartRotation:!1,fadeIn:!0,fadeInDurationFac:.1,fadeInEase:"linear",alphaStartMin:.7,alphaStartMax:.9,alphaEndMin:.7,alphaEndMax:.8,alphaEase:"linear",tintStart:16777215,tintEnd:16777215,tintEase:"linear",scaleIn:!1,scaleInDurationFac:.2,scaleInEase:"linear",uniformScale:!0,scaleXStartMin:1,scaleXStartMax:1,scaleXEndMin:1,scaleXEndMax:1,scaleXEase:"linear",scaleYStartMin:1,scaleYStartMax:1,scaleYEndMin:1,scaleYEndMax:1,scaleYEase:"linear",scaleStartMin:1,scaleStartMax:1,scaleEndMin:1,scaleEndMax:1,scaleEase:"linear",childs:[],spawn:{onComplete:[],onBounce:[],onHalfway:[],onStart:[]}},childs:[]},emitterSpawn:{type:0,id:0,scale:1,adoptRotation:!0,containerId:""}};var U=function(t){x(i,t);var e=z(i);function i(t,a,r,o){var c;return s(this,i),(c=e.call(this,n.Texture.from(a))).componentId=t,c.anchor.set(r||.5,o||.5),c.__sequenceEndTime=null,c}return l(i,[{key:"recycle",value:function(){this.tint=16777215,this.alpha=1,this.rotation=0,this.scale.set(1),this.parent&&this.parent.removeChild(this),this.__fx.__recycleSprite(this.componentId,this)}},{key:"dispose",value:function(){this.__fx=null,this.recycle(),this.destroy(!1)}}]),i}(n.Sprite),H=function(){function t(e){s(this,t),this.type=e,this._dx=0,this._dy=0,this._rotation=0}return l(t,[{key:"init",value:function(t){this.emitter=t,this._settings=t.settings.core.params,this.x=this.__x=t.x,this.y=this.__y=t.y,this.rotation=t.rotation}},{key:"emit",value:function(t){}},{key:"prepare",value:function(t){this._posInterpolationStep=1/t,this._t=.5*this._posInterpolationStep}},{key:"step",value:function(){this.__x=this.x,this.__y=this.y}},{key:"recycle",value:function(){this.emitter=null,this._settings=null}},{key:"dispose",value:function(){this.recycle(),this.emitter=null,this._settings=null}},{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this._dx=Math.cos(t),this._dy=Math.sin(t)}}]),t}();function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=w(t);if(e){var a=w(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}H.__TYPE_BOX="box",H.__TYPE_CIRCLE="circle",H.__TYPE_RING="ring";var V=function(t){x(i,t);var e=Q(i);function i(){return s(this,i),e.call(this,H.__TYPE_BOX)}return l(i,[{key:"emit",value:function(t){var e=this._settings,i=this.emitter,n=.5*e.width*this.__scaleMod,a=.5*e.height*this.__scaleMod,r=i.rotation,s=C.float(-n,n),o=C.float(-a,a);0!=r?(t.component.x=this.__x+this._t*(this.x-this.__x)+s*Math.cos(r)-o*Math.sin(r),t.component.y=this.__y+this._t*(this.y-this.__y)+s*Math.sin(r)+o*Math.cos(r)):(t.component.x=this.__x+this._t*(this.x-this.__x)+s,t.component.y=this.__y+this._t*(this.y-this.__y)+o),e.radial?(r+=Math.atan2(o,s),t.dx=Math.cos(r),t.dy=Math.sin(r)):(t.dx=this._dx,t.dy=this._dy),t.component.rotation=r,this._t+=this._posInterpolationStep}}]),i}(H);function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=w(t);if(e){var a=w(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}var J=function(t){x(i,t);var e=$(i);function i(){return s(this,i),e.call(this,H.__TYPE_CIRCLE)}return l(i,[{key:"emit",value:function(t){var e,i=this._settings,n=this.emitter;if(e=i.angle?C.float(.5*-i.angle,.5*i.angle)+n.rotation:C.float(0,6.28319)+n.rotation,i.radius>0){var a=C.float(0,i.radius)*this.__scaleMod;t.component.x=this.__x+this._t*(this.x-this.__x)+Math.cos(e)*a,t.component.y=this.__y+this._t*(this.y-this.__y)+Math.sin(e)*a}else t.component.x=this.__x+this._t*(this.x-this.__x),t.component.y=this.__y+this._t*(this.y-this.__y);i.radial?(t.dx=Math.cos(e),t.dy=Math.sin(e),t.component.rotation=e):(t.dx=this._dx,t.dy=this._dy,t.component.rotation=n.rotation),this._t+=this._posInterpolationStep}}]),i}(H);function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(arguments.length<3?t:i):a.value}},K.apply(this,arguments)}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=w(t);if(e){var a=w(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return S(this,i)}}var Z=function(t){x(i,t);var e=W(i);function i(){return s(this,i),e.call(this,H.__TYPE_RING)}return l(i,[{key:"prepare",value:function(t){K(w(i.prototype),"prepare",this).call(this,t);var e=this._settings.angle;2*Math.PI-e<.1?(this._uniformStep=e/t,this._angle=e):(this._uniformStep=e/(t-1),this._angle=.5*-e)}},{key:"emit",value:function(t){var e,i=this._settings,n=this.emitter;i.uniform?(e=this._angle+n.rotation,this._angle+=this._uniformStep):e=C.float(.5*-i.angle,.5*i.angle)+n.rotation;var a=i.radius*this.__scaleMod;t.component.x=this.__x+this._t*(this.x-this.__x)+Math.cos(e)*a,t.component.y=this.__y+this._t*(this.y-this.__y)+Math.sin(e)*a,i.radial?(t.dx=Math.cos(e),t.dy=Math.sin(e),t.component.rotation=e):(t.dx=this._dx,t.dy=this._dy,t.component.rotation=n.rotation),this._t+=this._posInterpolationStep}}]),i}(H);function tt(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return et(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return et(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var it=window&&window.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(a,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function o(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,o)}c((n=n.apply(t,e||[])).next())}))},nt=function(){function t(){s(this,t),this.useBlendModes=!0,this.particleCount=0,this.emitterCount=0,this.effectSequenceCount=0,this.maxParticles=5e3,this.particleFac=1,this._active=!1,this._effects=new E,this.__containers={},this.clearCache(),this.start()}return l(t,[{key:"start",value:function(){this._active=!0,this._timeElapsed=Date.now()}},{key:"pause",value:function(){this._active=!1}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.active){var e=Date.now(),i=.001*(e-this._timeElapsed);i*=t;for(var n,a=this._effects.first;a;)n=a.next,a.update(i),a=n;this._timeElapsed=e}}},{key:"clearCache",value:function(){this._cache={particles:[],mcs:[],sprites:[],effectSequences:[],emitters:[],cores:{}},this._settingsCache={mcs:{},sprites:{},emitters:{},effectSequences:{}},this._nameMaps={emitters:{},effectSequences:{}}}},{key:"setFloorY",value:function(t){var e=this._settingsCache.emitters;for(var i in e)e[i].floorY=t}},{key:"dispose",value:function(){for(var t=this._effects,e=t.first;e;)e.dispose(),e=e.next;t.clear(),this.clearCache()}},{key:"loadBundleFiles",value:function(t,e){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return new Promise((function(r,s){return it(i,void 0,void 0,m.mark((function i(){var s,o,c;return m.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(o in s={rfx_spritesheet:e,rfx_bundleSettings:t},a)s[o]=a[o];return n.Assets.addBundle("rfx_assets",s),i.next=5,n.Assets.loadBundle("rfx_assets");case 5:c=i.sent,r(this.initBundle(c.rfx_bundleSettings));case 7:case"end":return i.stop()}}),i,this)})))}))}},{key:"initBundle",value:function(e,i){if(e.__h!==t._bundleHash)throw new Error("Invalid settings file.");if(e.__v!=t.settingsVersion)throw new Error("Settings version mismatch.");for(var n in N.sanitizeBundle(e),i&&this.clearCache(),e.emitters){var a=e.emitters[n];this.addParticleEmitter(a.id,a)}for(var r in e.sequences){var s=e.sequences[r];this.addEffectSequence(s.id,s)}return this.useBlendModes=e.useBlendModes,this.maxParticles=e.maxParticles,this.parseTextureCache(e.spritesheetFilter)}},{key:"addParticleEmitter",value:function(t,e){if(this._settingsCache.emitters[t])throw new Error("ComponentId '".concat(t,"' already exists."));return this._settingsCache.emitters[t]=e,this._nameMaps.emitters[e.name]=e,this}},{key:"addEffectSequence",value:function(t,e){if(this._settingsCache.effectSequences[t])throw new Error("ComponentId '".concat(t,"' already exists."));return this._settingsCache.effectSequences[t]=e,this._nameMaps.effectSequences[e.name]=e,this}},{key:"initSprite",value:function(t,e){if(this._settingsCache.sprites[t])throw new Error("ComponentId '".concat(t,"' already exists."));return this._settingsCache.sprites[t]=e,this}},{key:"initMovieClip",value:function(t,e){if(this._settingsCache.mcs[t])throw new Error("ComponentId '".concat(t,"' already exists."));return this._settingsCache.mcs[t]=e,this}},{key:"getMovieClips",value:function(){return this._settingsCache.mcs}},{key:"getSprites",value:function(){return this._settingsCache.sprites}},{key:"addContainer",value:function(t,e){this.__containers[t]=e}},{key:"getEffectSequence",value:function(t){var e=this._nameMaps.effectSequences[t];if(!e)throw new Error("Settings not defined for '".concat(t,"'"));return this.getEffectSequenceById(e.id)}},{key:"getEffectSequenceById",value:function(t){var e,i=this._cache.effectSequences,n=this._settingsCache.effectSequences[t];if(!n)throw new Error("Settings not defined for '".concat(t,"'"));return 0==i.length?(e=new B(t)).__fx=this:e=i.pop(),e.__applySettings(n),e}},{key:"getParticleEmitter",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this._nameMaps.emitters[t];if(!n)throw new Error("Settings not defined for '".concat(t,"'"));return this.getParticleEmitterById(n.id,e,i)}},{key:"getParticleEmitterById",value:function(t){var e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this._cache.emitters,r=this._settingsCache.emitters[t];if(!r)throw new Error("Settings not defined for '".concat(t,"'"));return 0==a.length?(e=new A(t)).__fx=this:e=a.pop(),n&&(r=JSON.parse(JSON.stringify(r))),e.autoRecycleOnComplete=i,e.__applySettings(r),e}},{key:"stopEmitter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.list===this._effects&&this._effects.remove(t),e?t.dispose():this.__recycleEmitter(t)}},{key:"stopAllEffects",value:function(){var t,e=tt(this._effects.toArray());try{for(e.s();!(t=e.n()).done;){t.value.recycle()}}catch(t){e.e(t)}finally{e.f()}}},{key:"parseSpriteSheet",value:function(t,e){return this.parseObject(t.data.frames,e)}},{key:"parseTextureCache",value:function(t){return this.parseObject(n.Cache._cache,t)}},{key:"active",get:function(){return this._active}},{key:"__addActiveEffect",value:function(t){this._effects.add(t)}},{key:"__removeActiveEffect",value:function(t){this._effects.remove(t)}},{key:"__getSprite",value:function(t){var e=this._cache.sprites,i=e[t];if(null==e[t]&&(i=e[t]=[]),0==i.length){var n=this._settingsCache.sprites[t];if(null==n)throw new Error("Settings not defined for '".concat(t,"'"));var a=new U(t,n.texture,n.anchorX,n.anchorY);return a.__fx=this,a}return i.pop()}},{key:"__getMovieClip",value:function(t){var e=this._cache.mcs,i=e[t];if(null==e[t]&&(i=e[t]=[]),0==i.length){var n=this._settingsCache.mcs[t];if(null==n)throw new Error("Settings not defined for '".concat(t,"'"));var a=new D(t,n.textures,n.anchorX,n.anchorY);return a.__fx=this,a}return i.pop()}},{key:"__getParticle",value:function(){var t=this._cache.particles;if(0==t.length){var e=new F;return e.__fx=this,e}return t.pop()}},{key:"__getEmitterCore",value:function(e,i){var n=this._cache.cores,a=n[e];return null==a&&(a=n[e]=[]),0==a.length?new t.__emitterCores[e](e):a.pop()}},{key:"__recycleParticle",value:function(t){this._cache.particles.push(t)}},{key:"__recycleSprite",value:function(t,e){this._cache.sprites[t].push(e)}},{key:"__recycleMovieClip",value:function(t,e){this._cache.mcs[t].push(e)}},{key:"__recycleEmitter",value:function(t){this._effects.remove(t),this.__recycleEmitterCore(t.core),this._cache.emitters.push(t)}},{key:"__recycleEffectSequence",value:function(t){this._effects.remove(t),this._cache.effectSequences.push(t)}},{key:"__recycleEmitterCore",value:function(t){this._cache.cores[t.type].push(t)}},{key:"parseObject",value:function(t,e){var i;if(t instanceof Map){i=new Map;var a=t;a.values();var s,o=tt(a);try{for(o.s();!(s=o.n()).done;){var c=r(s.value,2),h=c[0],l=c[1];l instanceof n.Texture&&(i[h]=l)}}catch(t){o.e(t)}finally{o.f()}}else i=t;var u={},f={sprites:[],movieClips:[]};for(var p in i)if((!e||-1!=p.indexOf(e))&&(this.initSprite(p,{texture:p,anchorX:.5,anchorY:.5}),f.sprites.push(p),"mc_"==p.substr(0,3))){var _=p.split("_")[1];null==u[_]&&(u[_]=[]),u[_].push(p)}for(var d in u){var y=u[d];f.movieClips.push(d),this.initMovieClip(d,{textures:y,anchorX:.5,anchorY:.5})}return f}}]),t}();return nt.settingsVersion=0,nt.version="1.3.2",nt._bundleHash="80c6df7fb0d3d898f34ce0031c037fef",nt.ComponentType=t.ComponentType,nt.EffectSequenceComponentType=t.EffectSequenceComponentType,nt.__emitterCores={circle:J,box:V,ring:Z},t.BaseEffect=k,t.BaseEmitterCore=H,t.BoxEmitterCore=V,t.CircleEmitterCore=J,t.Color=q,t.Easing=X,t.EffectSequence=B,t.FX=nt,t.FXSignal=I,t.LinkedList=E,t.MovieClip=D,t.Particle=F,t.ParticleEmitter=A,t.RingEmitterCore=Z,t.Rnd=C,t.Sprite=U,t}({},PIXI);
